<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise</title>
<style>
body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    text-align: center;
    background: #ffe6f2;
    color: #333;
    overflow-x: hidden;
    transition: background 2.5s ease-in-out, color 2.5s ease-in-out;
}
.screen { 
    display: none; 
    padding: 5vh 5vw; 
    opacity: 0; 
    transition: opacity 2s ease-in-out; 
}
.active { display: block; opacity: 1; }
button {
    padding: 2.5vh 4vw;
    margin: 2vh 2vw;
    font-size: clamp(14px, 3.5vw, 20px);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.2s;
}
button:hover { transform: scale(1.1); }
.yes-btn { background-color: #ff4d6d; color: white; }
.no-btn { background-color: #ffcccb; color: #333; position: relative; }
.cake-container { position: relative; display: inline-block; width: 80%; max-width: 300px; }
.cake { width: 100%; display: block; margin: 2vh auto; }
#greeting { font-size: clamp(24px, 6vw, 48px); color: red; margin-top: 2vh; animation: fadeIn 2s forwards; }
#message { font-size: clamp(14px, 3vw, 20px); margin-top: 2vh; max-width: 90%; margin-left: auto; margin-right: auto; text-align: center; line-height: 1.5; }
#love { font-size: clamp(28px, 7vw, 50px); color: red; display: none; margin-top: 10vh; animation: fadeIn 2s forwards; }
.dimmed { background: #330033; color: #fff; }
.heart {
    position: fixed;
    font-size: 5vw;
    animation: floatUp 4s linear forwards;
    opacity: 0.8;
}
@keyframes floatUp {
    0% { transform: translateY(0) translateX(0); opacity: 1; }
    100% { transform: translateY(-150vh) translateX(15vw); opacity: 0; }
}
@keyframes fadeIn { from {opacity:0} to {opacity:1} }

.confetti-piece {
    position: absolute;
    border-radius: 50%;
    opacity: 0.9;
    animation: confettiFall linear forwards;
}
@keyframes confettiFall {
    0% { transform: translateY(0) rotate(0deg); opacity:1; }
    100% { transform: translateY(150vh) rotate(360deg); opacity:0; }
}

.balloon {
    position: absolute;
    opacity: 0.9;
    border-radius: 50% / 60%;
    animation-name: floatBalloon;
    animation-timing-function: ease-in-out;
    animation-iteration-count: 1;
}
@keyframes floatBalloon {
    0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity:1; }
    100% { transform: translateY(-150vh) translateX(var(--randX)) rotate(var(--randRot)); opacity:0; }
}

#skipBtn {
    position: fixed;
    bottom: 2vh;
    font-size: 14px;
    padding: 0.5vh 1vw;
    display: none;
    border-radius: 8px;
    background-color: #ff4d6d;
    color: white;
    cursor: pointer;
}
#skipBtn:hover { transform: scale(1.1); }

</style>
</head>
<body>

<div id="screen1" class="screen active">
    <h1>I have a surprise for you üòò</h1>
    <p>Shall we start?</p>
    <button class="yes-btn" onclick="nextScreen(2)">Yes</button>
    <button class="no-btn" onclick="playfulNo()">No</button>
</div>

<div id="screen2" class="screen">
    <h1>Lights are dimmed üåô</h1>
    <p>Shall we switch them back on?</p>
    <button class="yes-btn" onclick="nextScreen(3)">Ok</button>
</div>

<div id="screen3" class="screen">
    <h1>It's time to cut the cake, shall we? üéÇ</h1>
    <div class="cake-container">
        <img src="c:/Users/91939/Downloads/photo.jpg" alt="Cake" class="cake" id="cakeImg">
    </div>
    <button class="yes-btn" onclick="cutCakeYes()">Yes</button>
    <button class="no-btn" id="cakeNoBtn" onclick="hideNo()">No</button>
</div>

<div id="screen4" class="screen">
    <div id="greeting">Happiest Birthday Teja ‚ù§Ô∏è</div>
</div>

<div id="screen5" class="screen">
    <p id="message"></p>
    <button id="skipBtn" onclick="skipTyping()">Skip Typing</button>
</div>

<div id="love">Love you ‚ù§Ô∏è</div>

<audio id="blowSound" src="c:/Users/91939/Downloads/crackling-candle-246756.mp3"></audio>
<audio id="bgMusic" src="c:/Users/91939/Downloads/hopeful-love-romantic-music-331770.mp3" loop></audio>

<script>
let screenNum = 1;
let activeBalloons = [];
let messageInterval;
let messageStartTime;

function playfulNo() { alert("Please click on Yes üòò"); }
function hideNo() { document.getElementById('cakeNoBtn').style.display = 'none'; }

function nextScreen(num) {
    document.getElementById('screen' + screenNum).classList.remove('active');
    screenNum = num;
    document.getElementById('screen' + screenNum).classList.add('active');
    if(num === 2) { document.body.classList.add('dimmed'); playMusic(); }
    if(num === 3) { document.body.classList.remove('dimmed'); }
}

function playMusic() {
    const music = document.getElementById('bgMusic');
    music.volume = 0.2;
    music.play();
}

function cutCakeYes() {
    nextScreen(4);
    launchConfettiAndBalloons(200, 30);
    const blowSound = document.getElementById('blowSound');
    blowSound.play();

    setTimeout(() => {
        blowSound.pause();
        blowSound.currentTime = 0;
        removeBalloons();
        nextScreen(5);
        document.getElementById('skipBtn').style.display = 'block';
        typeMessage();
        addHearts();
    }, 4000);
}

function launchConfettiAndBalloons(confettiCount=50, balloonCount=25) {
    for(let i=0;i<confettiCount;i++){
        const confetti = document.createElement('div');
        confetti.className='confetti-piece';
        confetti.style.left = Math.random()*100+'vw';
        confetti.style.backgroundColor = `hsl(${Math.random()*360},70%,80%)`;
        confetti.style.width = `${2+Math.random()*3}vw`;
        confetti.style.height = `${2+Math.random()*3}vw`;
        confetti.style.animationDuration = `${3+Math.random()*2}s`;
        document.body.appendChild(confetti);
        setTimeout(()=>{confetti.remove();},5000);
    }

    for(let i=0;i<balloonCount;i++){
        const balloon = document.createElement('div');
        balloon.className='balloon';
        balloon.style.left = Math.random()*100+'vw';
        const hue = Math.floor(Math.random()*360);
        const lightness = 75 - Math.random()*20;
        balloon.style.backgroundColor = `hsl(${hue},70%,${lightness}%)`;
        const width = 3 + Math.random()*4;
        const height = width + Math.random()*3;
        balloon.style.width = `${width}vw`;
        balloon.style.height = `${height}vw`;
        const drift = (Math.random()*100 - 50) + 'vw';
        balloon.style.setProperty('--randX', drift);
        balloon.style.setProperty('--randRot', (Math.random()*360 - 180)+'deg');
        balloon.style.animationDuration = `${6 + Math.random()*6}s`;
        document.body.appendChild(balloon);
        activeBalloons.push(balloon);
        setTimeout(()=>{balloon.remove();},12000);
    }
}

function removeBalloons() {
    activeBalloons.forEach(b => b.remove());
    activeBalloons = [];
}

const messageText = "Being with you has changed my life in the most beautiful ways. Every smile you give, every word you say, and every moment we share stays in my heart forever. I always love you and I cannot imagine my life without you. You make even the simplest days feel special and every challenge easier just by being there. My love for you grows stronger with every passing day and I promise to always hold you close, to support you, and to love you with everything I have. You are my heart, my joy, and my forever, and I am endlessly grateful for you ‚ù§Ô∏è";
let charIndex = 0;
const typingSpeed = 120;

function typeMessage() {
    const messageEl = document.getElementById('message');
    charIndex = 0;
    messageEl.innerHTML = "";
    messageStartTime = Date.now();

    messageInterval = setInterval(() => {
        if(charIndex < messageText.length){
            messageEl.innerHTML += messageText.charAt(charIndex);
            charIndex++;
        } 
    }, typingSpeed);

    setTimeout(showLoveMessage, 35000);
}

function skipTyping() {
    clearInterval(messageInterval);
    document.getElementById('message').innerHTML = messageText;
    document.getElementById('skipBtn').style.display = 'none';
}

function showLoveMessage() {
    document.getElementById('screen5').classList.remove('active');
    document.getElementById('love').style.display = 'block';
    setTimeout(()=>window.close(),5000);
}

function addHearts() {
    setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.innerHTML = '‚ù§Ô∏è';
        document.body.appendChild(heart);
        setTimeout(() => { heart.remove(); }, 4000);
    }, 500);
}
</script>

</body>
</html>
